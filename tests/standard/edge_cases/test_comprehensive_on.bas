10 REM Comprehensive test including ON statements
20 PRINT "=== COMPREHENSIVE TEST WITH ON ==="
40 X=10
50 Y=20
60 Z=X+Y*2
70 PRINT "X=";X;" Y=";Y;" Z=";Z
100 DIM A(5)
110 A(0)=100
120 A(1)=200
130 PRINT "A(0)=";A(0);" A(1)=";A(1)
150 PRINT "SQR(16)=";SQR(16)
160 PRINT "ABS(-5)=";ABS(-5)
180 FOR I=1 TO 3
190 PRINT "I=";I
200 NEXT I
220 IF X>5 THEN PRINT "X>5: PASS"
240 GOSUB 400
260 PRINT "Testing ON...GOTO:"
270 FOR N=1 TO 3
280 ON N GOTO 500,550,600
290 NEXT N
300 GOTO 650
320 PRINT "Testing ON...GOSUB:"
330 FOR M=1 TO 3
340 ON M GOSUB 700,750,800
350 NEXT M
370 PRINT "=== ALL TESTS COMPLETE ==="
380 END
400 PRINT "Regular subroutine"
410 RETURN
500 PRINT "  ON GOTO branch 1"
510 GOTO 290
550 PRINT "  ON GOTO branch 2"
560 GOTO 290
600 PRINT "  ON GOTO branch 3"
610 GOTO 290
650 GOTO 320
700 PRINT "  ON GOSUB subroutine 1"
710 RETURN
750 PRINT "  ON GOSUB subroutine 2"
760 RETURN
800 PRINT "  ON GOSUB subroutine 3"
810 RETURN
